var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s,c;function a(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function i(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function h(){return p(" ")}function g(){return p("")}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){e=""+e,t.data!==e&&(t.data=e)}function v(t,e,n){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function b(t){c=t}function y(t){(function(){if(!c)throw new Error("Function called outside component initialization");return c})().$$.on_mount.push(t)}const k=[],w=[];let x=[];const z=[],S=Promise.resolve();let E=!1;function j(t){x.push(t)}const L=new Set;let M=0;function K(){if(0!==M)return;const t=c;do{try{for(;M<k.length;){const t=k[M];M++,b(t),C(t.$$)}}catch(t){throw k.length=0,M=0,t}for(b(null),k.length=0,M=0;w.length;)w.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];L.has(e)||(L.add(e),e())}x.length=0}while(k.length);for(;z.length;)z.pop()();E=!1,L.clear(),b(t)}function C(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(j)}}const N=new Set;let O;function T(){O={r:0,c:[],p:O}}function F(){O.r||r(O.c),O=O.p}function H(t,e){t&&t.i&&(N.delete(t),t.i(e))}function D(t,e,n,r){if(t&&t.o){if(N.has(t))return;N.add(t),O.c.push((()=>{N.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function B(t){t&&t.c()}function I(t,n,l,s){const{fragment:c,after_update:a}=t.$$;c&&c.m(n,l),s||j((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),a.forEach(j)}function J(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];x.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),x=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&(k.push(t),E||(E=!0,S.then(K)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function P(e,o,l,s,a,i,u,f=[-1]){const d=c;b(e);const p=e.$$={fragment:null,ctx:[],props:i,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||d.$$.root};u&&u(p.root);let h=!1;if(p.ctx=l?l(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),h&&q(e,t)),n})):[],p.update(),h=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(m)}else p.fragment&&p.fragment.c();o.intro&&H(e.$$.fragment),I(e,o.target,o.anchor,o.customElement),K()}b(d)}class U{$destroy(){J(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function A(e){let n;return{c(){n=d("nav"),n.innerHTML='<a href="/"><div class="logo svelte-e6tums"><img src="/assets/logo.png" alt="J3L+ Logo" class="svelte-e6tums"/> J3L+ SMP S2</div></a> \n\t<div class="menu svelte-e6tums"><a href="/" class="svelte-e6tums">Home</a> \n\t\t<a href="/players" class="svelte-e6tums">Players</a> \n\t\t<a href="/leaderboards" class="svelte-e6tums">Leaderboards</a> \n\t\t<a href="/backups" class="svelte-e6tums">Backups</a> \n\t\t<a href="/map" class="svelte-e6tums">World Map</a> \n\t\t<a href="https://github.com/Jaden-Unruh/minecraft-stats-backend" target="_blank" class="svelte-e6tums">GitHub</a></div>',_(n,"class","svelte-e6tums")},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&m(n)}}}class G extends U{constructor(t){super(),P(this,t,null,A,l,{})}}function W(e){let n;return{c(){n=d("footer"),n.innerHTML='2024 <a href="https://linktr.ee/JadenUnruh" class="svelte-19ymqmf">Jaden Unruh</a>, JÂ³L+ SMP',_(n,"class","svelte-19ymqmf")},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&m(n)}}}class R extends U{constructor(t){super(),P(this,t,null,W,l,{})}}function Q(t,e,n){const r=t.slice();return r[1]=e[n],r}function V(e){let n,r;return{c(){n=d("img"),a(n.src,r=e[1])||_(n,"src",r),_(n,"alt","Server screenshot"),_(n,"class","svelte-5d8wp5")},m(t,e){u(t,n,e)},p:t,d(t){t&&m(n)}}}function X(e){let n,r=e[0],o=[];for(let t=0;t<r.length;t+=1)o[t]=V(Q(e,r,t));return{c(){n=d("div");for(let t=0;t<o.length;t+=1)o[t].c();_(n,"class","screenshots svelte-5d8wp5")},m(t,e){u(t,n,e);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(n,null)},p(t,[e]){if(1&e){let l;for(r=t[0],l=0;l<r.length;l+=1){const s=Q(t,r,l);o[l]?o[l].p(s,e):(o[l]=V(s),o[l].c(),o[l].m(n,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}},i:t,o:t,d(t){t&&m(n),f(o,t)}}}function Y(t){return[["/assets/screenshots/screen1.png","/assets/screenshots/screen2.png","/assets/screenshots/screen3.png"]]}class Z extends U{constructor(t){super(),P(this,t,Y,X,l,{})}}function tt(t,e,n){const r=t.slice();return r[4]=e[n].uuid,r[5]=e[n].name,r}function et(t){let e,n=t[0],r=[];for(let e=0;e<n.length;e+=1)r[e]=lt(tt(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=g()},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);u(t,e,n)},p(t,o){if(1&o){let l;for(n=t[0],l=0;l<n.length;l+=1){const s=tt(t,n,l);r[l]?r[l].p(s,o):(r[l]=lt(s),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(t){f(r,t),t&&m(e)}}}function nt(e){let n;return{c(){n=d("p"),n.textContent="No players found."},m(t,e){u(t,n,e)},p:t,d(t){t&&m(n)}}}function rt(t){let e,n,r;return{c(){e=d("p"),n=p("Error loading players: "),r=p(t[2])},m(t,o){u(t,e,o),i(e,n),i(e,r)},p(t,e){4&e&&$(r,t[2])},d(t){t&&m(e)}}}function ot(e){let n;return{c(){n=d("p"),n.textContent="Loading players..."},m(t,e){u(t,n,e)},p:t,d(t){t&&m(n)}}}function lt(t){let e,n,r,o,l,s,c,a,f,g,v,b,y=t[5]+"",k=t[4]+"";return{c(){e=d("div"),n=d("span"),r=d("a"),o=d("strong"),o.textContent="Name:",l=h(),s=p(y),c=p("; "),a=d("strong"),a.textContent="UUID:",f=h(),g=p(k),b=h(),_(r,"href",v=`/stats/${t[5]}`),_(e,"class","player-item svelte-r91h4q")},m(t,m){u(t,e,m),i(e,n),i(n,r),i(r,o),i(r,l),i(r,s),i(r,c),i(r,a),i(r,f),i(r,g),i(e,b)},p(t,e){1&e&&y!==(y=t[5]+"")&&$(s,y),1&e&&k!==(k=t[4]+"")&&$(g,k),1&e&&v!==(v=`/stats/${t[5]}`)&&_(r,"href",v)},d(t){t&&m(e)}}}function st(e){let n;function r(t,e){return t[1]?ot:t[2]?rt:0===t[0].length?nt:et}let o=r(e),l=o(e);return{c(){n=d("div"),l.c(),_(n,"class","player-list svelte-r91h4q")},m(t,e){u(t,n,e),l.m(n,null)},p(t,[e]){o===(o=r(t))&&l?l.p(t,e):(l.d(1),l=o(t),l&&(l.c(),l.m(n,null)))},i:t,o:t,d(t){t&&m(n),l.d()}}}function ct(t,e,n){let r=[],o=!0,l=null;return y((async()=>{try{const t=await fetch("/api/players");if(!t.ok)throw new Error(`Error: ${t.statusText}`);const e=await t.json();n(0,r=Object.entries(e).map((([t,e])=>({uuid:t,name:e}))))}catch(t){n(2,l=t.message)}finally{n(1,o=!1)}})),[r,o,l]}class at extends U{constructor(t){super(),P(this,t,ct,st,l,{})}}function it(t,e,n){const r=t.slice();return r[4]=e[n],r}function ut(t){let e,n=t[0],r=[];for(let e=0;e<n.length;e+=1)r[e]=dt(it(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=g()},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);u(t,e,n)},p(t,o){if(1&o){let l;for(n=t[0],l=0;l<n.length;l+=1){const s=it(t,n,l);r[l]?r[l].p(s,o):(r[l]=dt(s),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(t){f(r,t),t&&m(e)}}}function mt(t){let e,n,r;return{c(){e=d("p"),n=p("Error loading backups: "),r=p(t[2])},m(t,o){u(t,e,o),i(e,n),i(e,r)},p(t,e){4&e&&$(r,t[2])},d(t){t&&m(e)}}}function ft(e){let n;return{c(){n=d("p"),n.textContent="Loading backups..."},m(t,e){u(t,n,e)},p:t,d(t){t&&m(n)}}}function dt(t){let e,n,r,o,l,s,c,a,f,g,v,b,y,k=t[4].Date+"",w=t[4].Time+"",x=t[4].Size+"";return{c(){e=d("div"),n=d("span"),r=p("On "),o=p(k),l=p(" at "),s=p(w),c=p(": "),a=d("a"),f=p("Google DriveðŸ”—"),v=p("; "),b=p(x),y=h(),_(a,"href",g=t[4].Link),_(e,"class","backup-item svelte-1rb5doj")},m(t,m){u(t,e,m),i(e,n),i(n,r),i(n,o),i(n,l),i(n,s),i(n,c),i(n,a),i(a,f),i(n,v),i(n,b),i(e,y)},p(t,e){1&e&&k!==(k=t[4].Date+"")&&$(o,k),1&e&&w!==(w=t[4].Time+"")&&$(s,w),1&e&&g!==(g=t[4].Link)&&_(a,"href",g),1&e&&x!==(x=t[4].Size+"")&&$(b,x)},d(t){t&&m(e)}}}function pt(e){let n,r,o;function l(t,e){return t[1]?ft:t[2]?mt:ut}let s=l(e),c=s(e);return{c(){n=d("p"),n.innerHTML="Backups are currently run manually, and this list will be updated each time I make a new one.<br/>In the future, this may be automated.",r=h(),o=d("div"),c.c(),_(o,"class","backup-list svelte-1rb5doj")},m(t,e){u(t,n,e),u(t,r,e),u(t,o,e),c.m(o,null)},p(t,[e]){s===(s=l(t))&&c?c.p(t,e):(c.d(1),c=s(t),c&&(c.c(),c.m(o,null)))},i:t,o:t,d(t){t&&m(n),t&&m(r),t&&m(o),c.d()}}}function ht(t,e,n){let r=[],o=!0,l=null;return y((async()=>{try{const t=await fetch("/api/backups");if(!t.ok)throw new Error(`Error: ${resopnse.statusText}`);n(0,r=await t.json())}catch(t){n(2,l=t.message)}finally{n(1,o=!1)}})),[r,o,l]}class gt extends U{constructor(t){super(),P(this,t,ht,pt,l,{})}}function _t(e){let n,r;return{c(){n=d("iframe"),a(n.src,r="/map/index.html")||_(n,"src","/map/index.html"),_(n,"class","iframe-container svelte-afnwjy"),_(n,"title","J3L+S2 World Map")},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&m(n)}}}let $t=class extends U{constructor(t){super(),P(this,t,null,_t,l,{})}};function vt(t,e,n){const r=t.slice();return r[15]=e[n].name,r[28]=e[n].killed,r[29]=e[n].killed_by,r[25]=e[n].total,r}function bt(t,e,n){const r=t.slice();return r[15]=e[n].name,r[19]=e[n].broken,r[20]=e[n].used,r[21]=e[n].dropped,r[22]=e[n].crafted,r[23]=e[n].mined,r[24]=e[n].picked_up,r[25]=e[n].total,r}function yt(t,e,n){const r=t.slice();return r[15]=e[n].name,r[16]=e[n].value,r}function kt(t){let e,n,r,o,l,s,c,a,f,b,y,k,w;function x(t,e){return"general"===t[1]?Et:"items"===t[1]?St:"mobs"===t[1]?zt:void 0}let z=x(t),S=z&&z(t);return{c(){e=d("h2"),n=p(t[0]),r=p("'s Stats"),o=h(),l=d("div"),s=d("select"),c=d("option"),c.textContent="General Stats",a=d("option"),a.textContent="Item Stats",f=d("option"),f.textContent="Mob Stats",b=h(),S&&S.c(),y=g(),c.__value="general",c.value=c.__value,a.__value="items",a.value=a.__value,f.__value="mobs",f.value=f.__value,void 0===t[1]&&j((()=>t[7].call(s))),_(l,"class","dropdown svelte-1c42i8z")},m(m,d){var p,h,g,_;u(m,e,d),i(e,n),i(e,r),u(m,o,d),u(m,l,d),i(l,s),i(s,c),i(s,a),i(s,f),v(s,t[1],!0),u(m,b,d),S&&S.m(m,d),u(m,y,d),k||(p=s,h="change",g=t[7],p.addEventListener(h,g,_),w=()=>p.removeEventListener(h,g,_),k=!0)},p(t,e){1&e[0]&&$(n,t[0]),2&e[0]&&v(s,t[1]),z===(z=x(t))&&S?S.p(t,e):(S&&S.d(1),S=z&&z(t),S&&(S.c(),S.m(y.parentNode,y)))},d(t){t&&m(e),t&&m(o),t&&m(l),t&&m(b),S&&S.d(t),t&&m(y),k=!1,w()}}}function wt(t){let e,n,r;return{c(){e=d("p"),n=p("Error: "),r=p(t[3])},m(t,o){u(t,e,o),i(e,n),i(e,r)},p(t,e){8&e[0]&&$(r,t[3])},d(t){t&&m(e)}}}function xt(t){let e,n,r,o;return{c(){e=d("p"),n=p("Loading stats for "),r=p(t[0]),o=p("...")},m(t,l){u(t,e,l),i(e,n),i(e,r),i(e,o)},p(t,e){1&e[0]&&$(r,t[0])},d(t){t&&m(e)}}}function zt(t){let e,n,r,o,l,s,c=t[6],a=[];for(let e=0;e<c.length;e+=1)a[e]=jt(vt(t,c,e));return{c(){e=d("h2"),e.textContent="Mob Statistics",n=h(),r=d("table"),o=d("thead"),o.innerHTML='<tr><th class="svelte-1c42i8z">Mob</th> \n\t\t\t\t\t\t<th class="svelte-1c42i8z">Killed</th> \n\t\t\t\t\t\t<th class="svelte-1c42i8z">Killed By</th> \n\t\t\t\t\t\t<th class="svelte-1c42i8z">Total</th></tr>',l=h(),s=d("tbody");for(let t=0;t<a.length;t+=1)a[t].c();_(r,"class","stats-table svelte-1c42i8z")},m(t,c){u(t,e,c),u(t,n,c),u(t,r,c),i(r,o),i(r,l),i(r,s);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(s,null)},p(t,e){if(64&e[0]){let n;for(c=t[6],n=0;n<c.length;n+=1){const r=vt(t,c,n);a[n]?a[n].p(r,e):(a[n]=jt(r),a[n].c(),a[n].m(s,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=c.length}},d(t){t&&m(e),t&&m(n),t&&m(r),f(a,t)}}}function St(t){let e,n,r,o,l,s,c=t[5],a=[];for(let e=0;e<c.length;e+=1)a[e]=Lt(bt(t,c,e));return{c(){e=d("h2"),e.textContent="Item Statistics",n=h(),r=d("table"),o=d("thead"),o.innerHTML='<tr><th class="svelte-1c42i8z">Item</th> \n\t\t\t\t\t\t<th class="svelte-1c42i8z">Broken</th> \n\t\t\t\t\t\t<th class="svelte-1c42i8z">Used</th> \n\t\t\t\t\t\t<th class="svelte-1c42i8z">Dropped</th> \n\t\t\t\t\t\t<th class="svelte-1c42i8z">Crafted</th> \n\t\t\t\t\t\t<th class="svelte-1c42i8z">Mined</th> \n\t\t\t\t\t\t<th class="svelte-1c42i8z">Picked up</th> \n\t\t\t\t\t\t<th class="svelte-1c42i8z">Total</th></tr>',l=h(),s=d("tbody");for(let t=0;t<a.length;t+=1)a[t].c();_(r,"class","stats-table svelte-1c42i8z")},m(t,c){u(t,e,c),u(t,n,c),u(t,r,c),i(r,o),i(r,l),i(r,s);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(s,null)},p(t,e){if(32&e[0]){let n;for(c=t[5],n=0;n<c.length;n+=1){const r=bt(t,c,n);a[n]?a[n].p(r,e):(a[n]=Lt(r),a[n].c(),a[n].m(s,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=c.length}},d(t){t&&m(e),t&&m(n),t&&m(r),f(a,t)}}}function Et(t){let e,n,r,o=t[4],l=[];for(let e=0;e<o.length;e+=1)l[e]=Mt(yt(t,o,e));return{c(){e=d("h2"),e.textContent="General Statistics",n=h();for(let t=0;t<l.length;t+=1)l[t].c();r=g()},m(t,o){u(t,e,o),u(t,n,o);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,o);u(t,r,o)},p(t,e){if(16&e[0]){let n;for(o=t[4],n=0;n<o.length;n+=1){const s=yt(t,o,n);l[n]?l[n].p(s,e):(l[n]=Mt(s),l[n].c(),l[n].m(r.parentNode,r))}for(;n<l.length;n+=1)l[n].d(1);l.length=o.length}},d(t){t&&m(e),t&&m(n),f(l,t),t&&m(r)}}}function jt(t){let e,n,r,o,l,s,c,a,f,g,v,b,y,k=t[15]+"",w=t[28]+"",x=t[29]+"",z=t[25]+"";return{c(){e=d("tr"),n=d("td"),r=p(k),o=h(),l=d("td"),s=p(w),c=h(),a=d("td"),f=p(x),g=h(),v=d("td"),b=p(z),y=h(),_(n,"class","svelte-1c42i8z"),_(l,"class","svelte-1c42i8z"),_(a,"class","svelte-1c42i8z"),_(v,"class","svelte-1c42i8z")},m(t,m){u(t,e,m),i(e,n),i(n,r),i(e,o),i(e,l),i(l,s),i(e,c),i(e,a),i(a,f),i(e,g),i(e,v),i(v,b),i(e,y)},p(t,e){64&e[0]&&k!==(k=t[15]+"")&&$(r,k),64&e[0]&&w!==(w=t[28]+"")&&$(s,w),64&e[0]&&x!==(x=t[29]+"")&&$(f,x),64&e[0]&&z!==(z=t[25]+"")&&$(b,z)},d(t){t&&m(e)}}}function Lt(t){let e,n,r,o,l,s,c,a,f,g,v,b,y,k,w,x,z,S,E,j,L,M,K,C,N,O=t[15]+"",T=t[19]+"",F=t[20]+"",H=t[21]+"",D=t[22]+"",B=t[23]+"",I=t[24]+"",J=t[25]+"";return{c(){e=d("tr"),n=d("td"),r=p(O),o=h(),l=d("td"),s=p(T),c=h(),a=d("td"),f=p(F),g=h(),v=d("td"),b=p(H),y=h(),k=d("td"),w=p(D),x=h(),z=d("td"),S=p(B),E=h(),j=d("td"),L=p(I),M=h(),K=d("td"),C=p(J),N=h(),_(n,"class","svelte-1c42i8z"),_(l,"class","svelte-1c42i8z"),_(a,"class","svelte-1c42i8z"),_(v,"class","svelte-1c42i8z"),_(k,"class","svelte-1c42i8z"),_(z,"class","svelte-1c42i8z"),_(j,"class","svelte-1c42i8z"),_(K,"class","svelte-1c42i8z")},m(t,m){u(t,e,m),i(e,n),i(n,r),i(e,o),i(e,l),i(l,s),i(e,c),i(e,a),i(a,f),i(e,g),i(e,v),i(v,b),i(e,y),i(e,k),i(k,w),i(e,x),i(e,z),i(z,S),i(e,E),i(e,j),i(j,L),i(e,M),i(e,K),i(K,C),i(e,N)},p(t,e){32&e[0]&&O!==(O=t[15]+"")&&$(r,O),32&e[0]&&T!==(T=t[19]+"")&&$(s,T),32&e[0]&&F!==(F=t[20]+"")&&$(f,F),32&e[0]&&H!==(H=t[21]+"")&&$(b,H),32&e[0]&&D!==(D=t[22]+"")&&$(w,D),32&e[0]&&B!==(B=t[23]+"")&&$(S,B),32&e[0]&&I!==(I=t[24]+"")&&$(L,I),32&e[0]&&J!==(J=t[25]+"")&&$(C,J)},d(t){t&&m(e)}}}function Mt(t){let e,n,r,o,l,s,c,a=t[15]+"",f=t[16]+"";return{c(){e=d("div"),n=d("span"),r=p(a),o=h(),l=d("span"),s=p(f),c=h(),_(n,"class","stat-name svelte-1c42i8z"),_(l,"class","stat-value svelte-1c42i8z"),_(e,"class","stat-row svelte-1c42i8z")},m(t,a){u(t,e,a),i(e,n),i(n,r),i(e,o),i(e,l),i(l,s),i(e,c)},p(t,e){16&e[0]&&a!==(a=t[15]+"")&&$(r,a),16&e[0]&&f!==(f=t[16]+"")&&$(s,f)},d(t){t&&m(e)}}}function Kt(e){let n;function r(t,e){return t[2]?xt:t[3]?wt:kt}let o=r(e),l=o(e);return{c(){n=d("div"),l.c(),_(n,"class","stats-container svelte-1c42i8z")},m(t,e){u(t,n,e),l.m(n,null)},p(t,e){o===(o=r(t))&&l?l.p(t,e):(l.d(1),l=o(t),l&&(l.c(),l.m(n,null)))},i:t,o:t,d(t){t&&m(n),l.d()}}}function Ct(t,e,n){let{playerName:r}=e,o="general",l=!0,s=null,c=[],a=[],i=[];const u=t=>{n(4,c=Object.entries(t).sort(((t,e)=>e[1]-t[1])).map((([t,e])=>({name:d(t.replace("minecraft:","")),value:p(t.replace("minecraft:",""),e)}))))},m=t=>{const e=["minecraft:broken","minecraft:used","minecraft:dropped","minecraft:crafted","minecraft:mined","minecraft:picked_up"],r={};for(const n of e){const e=t[n]||{};for(const[t,o]of Object.entries(e)){const e=t.replace("minecraft:","").replace(/_/g," ");r[e]||(r[e]={broken:0,used:0,dropped:0,crafted:0,mined:0,picked_up:0}),r[e][n.replace("minecraft:","")]=o}}n(5,a=Object.entries(r).map((([t,e])=>({name:t,...e,total:Object.values(e).reduce(((t,e)=>t+e),0)}))).sort(((t,e)=>e.total-t.total)))},f=t=>{const e=["minecraft:killed","minecraft:killed_by"],r={};for(const n of e){const e=t[n]||{};for(const[t,o]of Object.entries(e)){const e=t.replace("minecraft:","").replace(/_/g," ");r[e]||(r[e]={killed:0,killed_by:0}),r[e][n.replace("minecraft:","")]=o}}n(6,i=Object.entries(r).map((([t,e])=>({name:t,...e,total:Object.values(e).reduce(((t,e)=>t+e),0)}))).sort(((t,e)=>e.total-t.total)))},d=t=>"play_time"===t?"Hours played":"time_since_death"===t?"Minutes since death":"time_since_rest"===t?"Minutes since sleep":"sneak_time"===t?"Hours sneaked":"total_world_time"===t?"Hours logged in":"swim_one_cm"===t?"Kilometers swam":"fly_one_cm"===t?"Kilometers traveled forward and up more than 1 block above the ground":"fall_one_cm"===t?"Kilometers fallen":"sprint_one_cm"===t?"Kilometers sprinted":"walk_on_water_one_cm"===t?"Kilometers bobbed on water":"crouch_one_cm"===t?"Kilometers crouched":"climb_one_cm"===t?"Kilometers climbed":"walk_one_cm"===t?"Kilometers walked":"walk_under_water_one_cm"===t?"Kilometers walked underwater":"boat_one_cm"===t?"Kilometers boated":"minecart_one_cm"===t?"Kilometers carted":"aviate_one_cm"===t?"Kilometers by elytra":"strider_one_cm"===t?"Kilometers Strided":"pig_one_cm"===t?"Kilometers hogged":t.replace(/_/g," "),p=(t,e)=>"play_time"===t?`${(e/72e3).toFixed(1)}`:"time_since_death"===t||"time_since_death"===t?`${(e/1200).toFixed(1)}`:"sneak_time"===t||"total_world_time"===t?`${(e/72e3).toFixed(1)}`:"swim_one_cm"===t||"fly_one_cm"===t||"fall_one_cm"===t||"sprint_one_cm"===t||"walk_on_water_one_cm"===t||"crouch_one_cm"===t||"climb_one_cm"===t||"walk_one_cm"===t||"walk_under_water_one_cm"===t||"boat_one_cm"===t||"minecart_one_cm"===t||"aviate_one_cm"===t||"strider_one_cm"===t||"pig_one_cm"===t?`${(e/1e5).toFixed(2)}`:e;return y((async()=>{try{const t=await fetch(`/api/stats/${r}`);if(!t.ok)throw new Error("Failed to fetch stats");const e=await t.json();u(e["minecraft:custom"]||{}),m(e),f(e)}catch(t){n(3,s=t.message)}finally{n(2,l=!1)}})),t.$$set=t=>{"playerName"in t&&n(0,r=t.playerName)},[r,o,l,s,c,a,i,function(){o=function(t){const e=t.querySelector(":checked");return e&&e.__value}(this),n(1,o)}]}class Nt extends U{constructor(t){super(),P(this,t,Ct,Kt,l,{playerName:0},null,[-1,-1])}}function Ot(t,e,n){const r=t.slice();return r[1]=e[n].name,r[7]=e[n].value,r}function Tt(t){let e,n,r,o,l,s,c,a=t[1]+"",f=t[0](t[7])+"";return{c(){e=d("li"),n=d("span"),r=p(a),o=h(),l=d("span"),s=p(f),c=h(),_(e,"class","svelte-e7exb0")},m(t,a){u(t,e,a),i(e,n),i(n,r),i(e,o),i(e,l),i(l,s),i(e,c)},p(t,e){4&e&&a!==(a=t[1]+"")&&$(r,a),5&e&&f!==(f=t[0](t[7])+"")&&$(s,f)},d(t){t&&m(e)}}}function Ft(e){let n,r,o,l,s,c=e[2],a=[];for(let t=0;t<c.length;t+=1)a[t]=Tt(Ot(e,c,t));return{c(){n=d("div"),r=d("h2"),o=p(e[1]),l=h(),s=d("ul");for(let t=0;t<a.length;t+=1)a[t].c();_(r,"class","svelte-e7exb0"),_(s,"class","svelte-e7exb0"),_(n,"class","leaderboard svelte-e7exb0")},m(t,e){u(t,n,e),i(n,r),i(r,o),i(n,l),i(n,s);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(s,null)},p(t,[e]){if(2&e&&$(o,t[1]),5&e){let n;for(c=t[2],n=0;n<c.length;n+=1){const r=Ot(t,c,n);a[n]?a[n].p(r,e):(a[n]=Tt(r),a[n].c(),a[n].m(s,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=c.length}},i:t,o:t,d(t){t&&m(n),f(a,t)}}}function Ht(t,e,n){let{name:r}=e,{key:o}=e,{location:l}=e,{formatter:s}=e,{allStats:c=[]}=e,a=[];return t.$$set=t=>{"name"in t&&n(1,r=t.name),"key"in t&&n(3,o=t.key),"location"in t&&n(4,l=t.location),"formatter"in t&&n(0,s=t.formatter),"allStats"in t&&n(5,c=t.allStats)},n(2,a=c.map((t=>{let e=0;return e="computed"===l?t[o]||0:t[l]?.[o]||0,{name:t.name,value:e}})).sort(((t,e)=>e.value-t.value)).slice(0,5)),[s,r,a,o,l,c]}class Dt extends U{constructor(t){super(),P(this,t,Ht,Ft,l,{name:1,key:3,location:4,formatter:0,allStats:5})}}function Bt(t,e,n){const r=t.slice();return r[5]=e[n].name,r[6]=e[n].key,r[7]=e[n].location,r[8]=e[n].formatter,r}function It(t){let e,n,r,o,l=t[3],s=[];for(let e=0;e<l.length;e+=1)s[e]=Pt(Bt(t,l,e));const c=t=>D(s[t],1,1,(()=>{s[t]=null}));return{c(){e=d("h1"),e.textContent="Leaderboards",n=h(),r=d("div");for(let t=0;t<s.length;t+=1)s[t].c();_(e,"class","svelte-do34ur"),_(r,"class","grid svelte-do34ur")},m(t,l){u(t,e,l),u(t,n,l),u(t,r,l);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(r,null);o=!0},p(t,e){if(9&e){let n;for(l=t[3],n=0;n<l.length;n+=1){const o=Bt(t,l,n);s[n]?(s[n].p(o,e),H(s[n],1)):(s[n]=Pt(o),s[n].c(),H(s[n],1),s[n].m(r,null))}for(T(),n=l.length;n<s.length;n+=1)c(n);F()}},i(t){if(!o){for(let t=0;t<l.length;t+=1)H(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)D(s[t]);o=!1},d(t){t&&m(e),t&&m(n),t&&m(r),f(s,t)}}}function Jt(e){let n,r,o;return{c(){n=d("p"),r=p("Error: "),o=p(e[2])},m(t,e){u(t,n,e),i(n,r),i(n,o)},p(t,e){4&e&&$(o,t[2])},i:t,o:t,d(t){t&&m(n)}}}function qt(e){let n;return{c(){n=d("p"),n.textContent="Loading leaderboards..."},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&m(n)}}}function Pt(t){let e,n;return e=new Dt({props:{name:t[5],key:t[6],location:t[7],formatter:t[8],allStats:t[0]}}),{c(){B(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.allStats=t[0]),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function Ut(t){let e,n,r,o;const l=[qt,Jt,It],s=[];function c(t,e){return t[1]?0:t[2]?1:2}return n=c(t),r=s[n]=l[n](t),{c(){e=d("div"),r.c()},m(t,r){u(t,e,r),s[n].m(e,null),o=!0},p(t,[o]){let a=n;n=c(t),n===a?s[n].p(t,o):(T(),D(s[a],1,1,(()=>{s[a]=null})),F(),r=s[n],r?r.p(t,o):(r=s[n]=l[n](t),r.c()),H(r,1),r.m(e,null))},i(t){o||(H(r),o=!0)},o(t){D(r),o=!1},d(t){t&&m(e),s[n].d()}}}function At(t,e,n){let r=[],o=[],l=!0,s=null;return y((async()=>{try{const t=await fetch("/api/allStats");if(!t.ok)throw new Error("Failed to fetch stats");const e=await t.json();console.log(e);const l=await fetch("/api/players");if(!l.ok)throw new Error("Failed to fetch players");o=await l.json(),n(0,r=Object.entries(e).map((([t,e])=>{const n=Object.values(e.stats["minecraft:mined"]||{}).reduce(((t,e)=>t+e),0);return{uuid:t,name:o[t],custom:e.stats["minecraft:custom"]||{},total_blocks_mined:n}}))),console.log(r)}catch(t){n(2,s=t.message),console.error(t.stack)}finally{n(1,l=!1)}})),[r,l,s,[{name:"Playtime",key:"minecraft:play_time",location:"custom",formatter:t=>`${(t/72e3).toFixed(1)} hours`},{name:"Distance Walked",key:"minecraft:walk_one_cm",location:"custom",formatter:t=>`${(t/1e5).toFixed(2)} km`},{name:"Distance by Elytra",key:"minecraft:aviate_one_cm",location:"custom",formatter:t=>`${(t/1e5).toFixed(2)} km`},{name:"Mob Kills",key:"minecraft:mob_kills",location:"custom",formatter:t=>t},{name:"Deaths",key:"minecraft:deaths",location:"custom",formatter:t=>t},{name:"Blocks Mined",key:"total_blocks_mined",location:"computed",formatter:t=>t}]]}class Gt extends U{constructor(t){super(),P(this,t,At,Ut,l,{})}}function Wt(e){let n,r;return n=new Gt({}),{c(){B(n.$$.fragment)},m(t,e){I(n,t,e),r=!0},p:t,i(t){r||(H(n.$$.fragment,t),r=!0)},o(t){D(n.$$.fragment,t),r=!1},d(t){J(n,t)}}}function Rt(t){let e,n;return e=new Nt({props:{playerName:t[1]}}),{c(){B(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.playerName=t[1]),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function Qt(e){let n,r;return n=new $t({}),{c(){B(n.$$.fragment)},m(t,e){I(n,t,e),r=!0},p:t,i(t){r||(H(n.$$.fragment,t),r=!0)},o(t){D(n.$$.fragment,t),r=!1},d(t){J(n,t)}}}function Vt(e){let n,r;return n=new gt({}),{c(){B(n.$$.fragment)},m(t,e){I(n,t,e),r=!0},p:t,i(t){r||(H(n.$$.fragment,t),r=!0)},o(t){D(n.$$.fragment,t),r=!1},d(t){J(n,t)}}}function Xt(e){let n,r;return n=new at({}),{c(){B(n.$$.fragment)},m(t,e){I(n,t,e),r=!0},p:t,i(t){r||(H(n.$$.fragment,t),r=!0)},o(t){D(n.$$.fragment,t),r=!1},d(t){J(n,t)}}}function Yt(e){let n,r;return n=new Z({}),{c(){B(n.$$.fragment)},m(t,e){I(n,t,e),r=!0},p:t,i(t){r||(H(n.$$.fragment,t),r=!0)},o(t){D(n.$$.fragment,t),r=!1},d(t){J(n,t)}}}function Zt(t){let e,n,r,o,l,s,c,a,f,p;function g(e){t[2](e)}let $={};void 0!==t[0]&&($.currentRoute=t[0]),n=new G({props:$}),w.push((()=>function(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}(n,"currentRoute",g)));const v=[Yt,Xt,Vt,Qt,Rt,Wt],b=[];function y(t,e){return"home"===t[0]?0:"players"===t[0]?1:"backups"===t[0]?2:"map"===t[0]?3:"stats"===t[0]?4:"boards"===t[0]?5:-1}return~(s=y(t))&&(c=b[s]=v[s](t)),f=new R({}),{c(){e=d("main"),B(n.$$.fragment),o=h(),l=d("div"),c&&c.c(),a=h(),B(f.$$.fragment),_(l,"class","content svelte-1hmc37l"),_(e,"class","svelte-1hmc37l")},m(t,r){u(t,e,r),I(n,e,null),i(e,o),i(e,l),~s&&b[s].m(l,null),i(e,a),I(f,e,null),p=!0},p(t,[e]){const o={};var a;!r&&1&e&&(r=!0,o.currentRoute=t[0],a=()=>r=!1,z.push(a)),n.$set(o);let i=s;s=y(t),s===i?~s&&b[s].p(t,e):(c&&(T(),D(b[i],1,1,(()=>{b[i]=null})),F()),~s?(c=b[s],c?c.p(t,e):(c=b[s]=v[s](t),c.c()),H(c,1),c.m(l,null)):c=null)},i(t){p||(H(n.$$.fragment,t),H(c),H(f.$$.fragment,t),p=!0)},o(t){D(n.$$.fragment,t),D(c),D(f.$$.fragment,t),p=!1},d(t){t&&m(e),J(n),~s&&b[s].d(),J(f)}}}function te(t,e,n){let r="home",o=null;const l=window.location.pathname;return"/"===l?r="home":"/players"===l?r="players":"/backups"===l?r="backups":"/map"===l?r="map":l.startsWith("/stats/")?(r="stats",o=l.split("/stats/")[1]):"/leaderboards"===l&&(r="boards"),[r,o,function(t){r=t,n(0,r)}]}return new class extends U{constructor(t){super(),P(this,t,te,Zt,l,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
